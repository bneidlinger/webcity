<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SimCity Web</title>
    <style>
      * { margin: 0; padding: 0; box-sizing: border-box; }
      
      html, body { 
        height: 100%; 
        background: #0a0b0f; 
        color: #e2e8f0; 
        font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
        overflow: hidden;
        user-select: none;
      }
      
      #view { 
        position: fixed; 
        top: 0; 
        left: 0; 
        width: 100vw; 
        height: 100vh; 
        display: block; 
      }
      
      /* Modern SaaS Toolbar */
      #toolbar {
        position: fixed;
        top: 20px;
        left: 50%;
        transform: translateX(-50%);
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(148, 163, 184, 0.1);
        border-radius: 16px;
        padding: 12px;
        display: flex;
        gap: 8px;
        align-items: center;
        box-shadow: 
          0 4px 6px -1px rgba(0, 0, 0, 0.1),
          0 2px 4px -1px rgba(0, 0, 0, 0.06),
          0 20px 25px -5px rgba(0, 0, 0, 0.2),
          inset 0 1px 0 0 rgba(255, 255, 255, 0.05);
        z-index: 1000;
      }
      
      /* Tool Groups */
      .tool-group {
        display: flex;
        gap: 4px;
        padding: 0 8px;
        border-right: 1px solid rgba(148, 163, 184, 0.1);
      }
      
      .tool-group:last-child {
        border-right: none;
      }
      
      /* Tool Buttons */
      .tool-btn {
        width: 44px;
        height: 44px;
        border: none;
        background: rgba(30, 41, 59, 0.5);
        color: #94a3b8;
        border-radius: 10px;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        font-size: 20px;
      }
      
      .tool-btn:hover {
        background: rgba(51, 65, 85, 0.7);
        color: #e2e8f0;
        transform: translateY(-2px);
        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);
      }
      
      .tool-btn.active {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
        color: white;
        box-shadow: 
          0 0 20px rgba(59, 130, 246, 0.4),
          inset 0 1px 0 0 rgba(255, 255, 255, 0.2);
      }
      
      .tool-btn .tooltip {
        position: absolute;
        bottom: -32px;
        left: 50%;
        transform: translateX(-50%);
        background: rgba(15, 23, 42, 0.95);
        color: #e2e8f0;
        padding: 4px 8px;
        border-radius: 6px;
        font-size: 12px;
        white-space: nowrap;
        opacity: 0;
        pointer-events: none;
        transition: opacity 0.2s ease;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
      }
      
      .tool-btn:hover .tooltip {
        opacity: 1;
      }
      
      /* Zone Colors */
      .tool-btn[data-zone="R"].active {
        background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      }
      
      .tool-btn[data-zone="C"].active {
        background: linear-gradient(135deg, #3b82f6 0%, #2563eb 100%);
      }
      
      .tool-btn[data-zone="I"].active {
        background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
      }
      
      /* Era Selector */
      .era-selector {
        background: rgba(30, 41, 59, 0.5);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 10px;
        padding: 8px 12px;
        color: #e2e8f0;
        font-size: 14px;
        cursor: pointer;
        transition: all 0.2s ease;
        outline: none;
        min-width: 100px;
      }
      
      .era-selector:hover {
        background: rgba(51, 65, 85, 0.7);
        border-color: rgba(148, 163, 184, 0.3);
      }
      
      .era-selector:focus {
        border-color: #3b82f6;
        box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
      }
      
      /* Action Buttons */
      .action-btn {
        background: rgba(30, 41, 59, 0.5);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 10px;
        padding: 10px 16px;
        color: #94a3b8;
        font-size: 14px;
        font-weight: 500;
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 6px;
      }
      
      .action-btn:hover {
        background: rgba(51, 65, 85, 0.7);
        color: #e2e8f0;
        border-color: rgba(148, 163, 184, 0.3);
        transform: translateY(-1px);
      }
      
      .action-btn.active {
        background: linear-gradient(135deg, #dc2626 0%, #b91c1c 100%);
        color: white;
        border-color: transparent;
      }
      
      /* Stats Panel */
      #stats-panel {
        position: fixed;
        top: 20px;
        right: 20px;
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(148, 163, 184, 0.1);
        border-radius: 12px;
        padding: 16px;
        min-width: 200px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        z-index: 999;
      }
      
      .stat-row {
        display: flex;
        justify-content: space-between;
        margin-bottom: 8px;
        font-size: 13px;
      }
      
      .stat-label {
        color: #64748b;
        font-weight: 500;
      }
      
      .stat-value {
        color: #e2e8f0;
        font-weight: 600;
        font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
      }
      
      /* Keyboard Shortcuts */
      .kbd {
        display: inline-block;
        padding: 2px 6px;
        background: rgba(30, 41, 59, 0.8);
        border: 1px solid rgba(148, 163, 184, 0.2);
        border-radius: 4px;
        font-size: 11px;
        font-family: 'SF Mono', Monaco, 'Cascadia Code', monospace;
        color: #94a3b8;
        margin-left: 4px;
      }
      
      /* Divider */
      .divider {
        width: 1px;
        height: 30px;
        background: rgba(148, 163, 184, 0.1);
      }
      
      /* Demand Indicators */
      #demand-panel {
        position: fixed;
        bottom: 20px;
        left: 20px;
        background: linear-gradient(135deg, rgba(15, 23, 42, 0.95) 0%, rgba(30, 41, 59, 0.95) 100%);
        backdrop-filter: blur(20px);
        border: 1px solid rgba(148, 163, 184, 0.1);
        border-radius: 12px;
        padding: 12px 16px;
        display: flex;
        gap: 20px;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        z-index: 999;
      }
      
      .demand-indicator {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 4px;
      }
      
      .demand-label {
        font-size: 11px;
        color: #64748b;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 0.5px;
      }
      
      .demand-bar {
        width: 40px;
        height: 60px;
        background: rgba(30, 41, 59, 0.5);
        border-radius: 4px;
        position: relative;
        overflow: hidden;
      }
      
      .demand-fill {
        position: absolute;
        bottom: 0;
        left: 0;
        right: 0;
        transition: height 0.3s ease;
        border-radius: 4px;
      }
      
      .demand-fill.residential {
        background: linear-gradient(180deg, #10b981 0%, #059669 100%);
      }
      
      .demand-fill.commercial {
        background: linear-gradient(180deg, #3b82f6 0%, #2563eb 100%);
      }
      
      .demand-fill.industrial {
        background: linear-gradient(180deg, #f59e0b 0%, #d97706 100%);
      }
    </style>
    <script type="module" crossorigin src="/assets/index-zoWD5s0u.js"></script>
  </head>
  <body>
    <!-- Main Toolbar -->
    <div id="toolbar">
      <!-- Construction Tools -->
      <div class="tool-group">
        <button class="tool-btn active" data-tool="road" onclick="selectTool('road')">
          üõ§Ô∏è
          <span class="tooltip">Road <kbd>1</kbd></span>
        </button>
        <button class="tool-btn" data-tool="zone-r" data-zone="R" onclick="selectTool('zone-r')">
          üèòÔ∏è
          <span class="tooltip">Residential <kbd>2</kbd></span>
        </button>
        <button class="tool-btn" data-tool="zone-c" data-zone="C" onclick="selectTool('zone-c')">
          üè¢
          <span class="tooltip">Commercial <kbd>3</kbd></span>
        </button>
        <button class="tool-btn" data-tool="zone-i" data-zone="I" onclick="selectTool('zone-i')">
          üè≠
          <span class="tooltip">Industrial <kbd>4</kbd></span>
        </button>
      </div>
      
      <div class="divider"></div>
      
      <!-- Era Selection -->
      <div class="tool-group">
        <select id="era" class="era-selector">
          <option value="1890s">1890s</option>
          <option value="1910s">1910s</option>
          <option value="1930s">1930s</option>
          <option value="1950s">1950s</option>
          <option value="1970s">1970s</option>
          <option value="1990s">1990s</option>
          <option value="2010s" selected>2010s</option>
          <option value="2030s">2030s</option>
        </select>
      </div>
      
      <div class="divider"></div>
      
      <!-- Actions -->
      <div class="tool-group">
        <button id="pauseBtn" class="action-btn" onclick="togglePause()">
          ‚è∏Ô∏è <span>Pause</span>
        </button>
        <button id="seedBtn" class="action-btn" onclick="shuffleSeed()">
          üé≤ <span>New Map</span>
        </button>
        <button id="timelapseBtn" class="action-btn" onclick="toggleTimelapse()">
          ‚è© <span>Timelapse</span>
        </button>
      </div>
    </div>
    
    <!-- Stats Panel -->
    <div id="stats-panel">
      <div class="stat-row">
        <span class="stat-label">FPS</span>
        <span class="stat-value" id="fps">60</span>
      </div>
      <div class="stat-row">
        <span class="stat-label">Population</span>
        <span class="stat-value" id="population">0</span>
      </div>
      <div class="stat-row">
        <span class="stat-label">Budget</span>
        <span class="stat-value" id="budget">$50,000</span>
      </div>
      <div class="stat-row">
        <span class="stat-label">Zoom</span>
        <span class="stat-value" id="zoom">1.0x</span>
      </div>
    </div>
    
    <!-- Demand Indicators -->
    <div id="demand-panel">
      <div class="demand-indicator">
        <div class="demand-label">RES</div>
        <div class="demand-bar">
          <div class="demand-fill residential" id="demand-r" style="height: 30%"></div>
        </div>
      </div>
      <div class="demand-indicator">
        <div class="demand-label">COM</div>
        <div class="demand-bar">
          <div class="demand-fill commercial" id="demand-c" style="height: 45%"></div>
        </div>
      </div>
      <div class="demand-indicator">
        <div class="demand-label">IND</div>
        <div class="demand-bar">
          <div class="demand-fill industrial" id="demand-i" style="height: 20%"></div>
        </div>
      </div>
    </div>
    
    <canvas id="view"></canvas>
    
    <script>
      // Tool selection
      function selectTool(tool) {
        document.querySelectorAll('.tool-btn').forEach(btn => {
          btn.classList.remove('active');
        });
        document.querySelector(`[data-tool="${tool}"]`).classList.add('active');
        
        // Dispatch event for main.ts to handle
        window.dispatchEvent(new CustomEvent('tool-changed', { detail: tool }));
      }
      
      // Action handlers
      function togglePause() {
        const btn = document.getElementById('pauseBtn');
        btn.classList.toggle('active');
        const isPaused = btn.classList.contains('active');
        btn.innerHTML = isPaused ? '‚ñ∂Ô∏è <span>Play</span>' : '‚è∏Ô∏è <span>Pause</span>';
        window.dispatchEvent(new Event('toggle-pause'));
      }
      
      function shuffleSeed() {
        window.dispatchEvent(new Event('shuffle-seed'));
      }
      
      function toggleTimelapse() {
        const btn = document.getElementById('timelapseBtn');
        btn.classList.toggle('active');
        window.dispatchEvent(new Event('toggle-timelapse'));
      }
      
      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        switch(e.key) {
          case '1': selectTool('road'); break;
          case '2': selectTool('zone-r'); break;
          case '3': selectTool('zone-c'); break;
          case '4': selectTool('zone-i'); break;
          case ' ': 
            e.preventDefault();
            togglePause(); 
            break;
        }
      });
    </script>
    
  </body>
</html>